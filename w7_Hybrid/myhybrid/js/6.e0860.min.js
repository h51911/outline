(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{241:function(e,t,a){"use strict";a(127);var s=a(91),n=(a(128),a(67)),i=a(0),c=a.n(i),l=a(37),o=a(1),r=a.n(o);const d=({datalist:e,history:t,title:a})=>c.a.createElement(c.a.Fragment,null,a?c.a.createElement("h4",null,a):null,c.a.createElement(s.a,{gutter:30},e.map(e=>c.a.createElement(n.a,{key:e.goods_id,style:{minHeight:280},xs:12,sm:6,md:4,onClick:()=>{t.push("/goods/"+e.goods_id)}},c.a.createElement("img",{src:e.goods_image_url||e.goods_image,style:{width:"100%"}}),c.a.createElement("h5",null,e.goods_name),c.a.createElement("p",{className:"price"},c.a.createElement("del",null,e.goods_promotion_price),c.a.createElement("span",null,(.8*e.goods_promotion_price).toFixed(2)))))));d.propTypes={datalist:r.a.array.isRequired,title:r.a.string},t.a=Object(l.g)(d)},313:function(e,t,a){"use strict";a.r(t);a(257);var s=a(258),n=a(0),i=a.n(n),c=a(92),l=a(37),o=a(241);class r extends i.a.Component{constructor(...e){super(...e),this.state={menu:[],activeKey:"",datalist:[]},this.changeType=async e=>{let{datas:t}=await c.b.get({act:"goods",op:"goods_list",gc_id:e,page:20});this.setState({datalist:t.goods_list,activeKey:e})}}async componentDidMount(){let{gc_id:e}=this.props.match.params;console.log("List:",e);let{datas:t}=await c.b.get({act:"goods_class",op:"get_child_all",gc_id:e}),a=t.class_list[0].child,s=a[0].gc_id;this.changeType(s),this.setState({menu:a})}render(){let{activeKey:e,menu:t,datalist:a}=this.state;return i.a.createElement("div",null,i.a.createElement(s.a,{defaultActiveKey:e,tabPosition:"left",onChange:this.changeType},t.map((e,t)=>i.a.createElement(s.a.TabPane,{tab:e.gc_name,key:e.gc_id},i.a.createElement(o.a,{datalist:a})))))}}var d=r;class m extends n.Component{constructor(...e){super(...e),this.state={currentIdx:0,activeKey:"",menu:[]},this.changeType=e=>{this.props.history.replace("/discover/"+e)}}async componentDidMount(){let{currentIdx:e}=this.state,{datas:t}=await c.b.get({act:"goods_class"});console.log("datas:",t);let a=t.class_list[e].gc_id;this.setState({menu:t.class_list,activeKey:a}),this.changeType(a)}render(){let{match:e}=this.props,{menu:t,activeKey:a}=this.state;return i.a.createElement("div",null,i.a.createElement(s.a,{defaultActiveKey:a,tabPosition:"top",onChange:this.changeType},t.map((t,a)=>i.a.createElement(s.a.TabPane,{tab:t.gc_name,key:t.gc_id},i.a.createElement(l.b,{path:e.path+"/:gc_id",component:d})))))}}t.default=m}}]);